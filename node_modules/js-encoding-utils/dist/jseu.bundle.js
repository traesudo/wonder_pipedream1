!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.jseu=r():e.jseu=r()}(this,(function(){return(()=>{"use strict";var e={d:(r,t)=>{for(var n in t)e.o(t,n)&&!e.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:t[n]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};e.r(r),e.d(r,{default:()=>B,encoder:()=>w,formatter:()=>h});const t=e=>{if("undefined"==typeof Buffer)throw new Error("UnsupportedEnvironment");return Buffer.from(e.toString(),"binary").toString("base64")},n=e=>{if("undefined"==typeof Buffer)throw new Error("UnsupportedEnvironment");return Buffer.from(e,"base64").toString("binary")},o=e=>{let r="";return r="string"==typeof e?e:d(e),("undefined"!=typeof window?window.btoa:t)(r)},f=e=>{const r=("undefined"!=typeof window?window.atob:n)(e),t=p(r);return a(t)},i=e=>e instanceof Uint8Array?e:ArrayBuffer.isView(e)&&void 0!==e.buffer?new Uint8Array(e.buffer):new Uint8Array(e),a=e=>{let r=!0;for(let t=0;t<e.length;t++)if(e[t]>126||e[t]<32&&13!==e[t]&&10!==e[t]){r=!1;break}let t=null;if(r){t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r])}else t=e;return t},u=e=>o(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),l=e=>(e=e.replace(/-/g,"+").replace(/_/g,"/"),f(e)),s=e=>{const r=i(e);let t="";for(let e=0;e<r.length;e++){let n=(255&r[e]).toString(16);n=1===n.length?`0${n}`:n,t+=n}return t},c=e=>{const r=[],t=e.length;for(let n=0;n<t;n+=2)r.push(parseInt(e.substr(n,2),16));return new Uint8Array(r)},d=e=>{const r=i(e),t=new Array(r.length);return r.forEach(((e,r)=>{t[r]=e})),String.fromCharCode.apply(null,t)},p=e=>new Uint8Array(e.length).map(((r,t)=>e.charCodeAt(t))),g={public:"PUBLIC KEY",private:"PRIVATE KEY",encryptedPrivate:"ENCRYPTED PRIVATE KEY",certificate:"CERTIFICATE",certRequest:"CERTIFICATE REQUEST"},y=e=>{const r=m(e);return f(r)},E=(e,r)=>{const t=o(e);return b(t,r)},b=(e,r)=>{const t=g[r];let n=`-----BEGIN ${t}-----\n`;for(;e.length>0;)n+=`${e.substring(0,64)}\n`,e=e.substring(64);return n=`${n}-----END ${t}-----`,n},m=e=>{const r=RegExp("^-----[s]*BEGIN[^-]*-----$","gm"),t=RegExp("^-----[s]*END[^-]*-----$","gm");try{let n=e.split(r)[1].split(t)[0];return n=n.replace(/\r?\n/g,""),n}catch(e){throw new Error("Invalid format as PEM")}};var w,h;!function(e){e.encodeBase64=o,e.decodeBase64=f,e.encodeBase64Url=u,e.decodeBase64Url=l,e.arrayBufferToHexString=s,e.hexStringToArrayBuffer=c,e.stringToArrayBuffer=p,e.arrayBufferToString=d}(w||(w={})),function(e){e.binToPem=E,e.pemToBin=y}(h||(h={}));const B={encoder:w,formatter:h};return r})()}));